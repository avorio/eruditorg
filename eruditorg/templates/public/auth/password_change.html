{% extends "public/auth/base_profile_edit.html" %}
{% load i18n staticfiles %}

{% block page_title %}{% trans 'Modification du mot de passe' %}{% endblock %}

{% block zone_title %}{% trans 'Espace Ã©diteurs' %}{% endblock %}

{% block data_controller %}public:login{% endblock data_controller %}

{% block breadcrumb %}
  {{ block.super }} / <a href="{% url 'public:auth:password_change' %}">{% trans "Modification du mot de passe" %}</a>
{% endblock %}

{% block content %}
<section>
  <div class="row">
    <aside class="col-xs-12">
      <div class="panel">
        <header class="panel-heading">
          <h2 class="h4 panel-title text-center h1">{% trans "Modification du mot de passe" %}</h2>
        </header>
        <div class="panel-body">
          <form action="{% url 'public:auth:password_change' %}" id="id-login-form" method="post">
            {% csrf_token %}
            {% if form.non_field_errors %}
            <div class="col-xs-12">
              {% for error in form.non_field_errors %}
              <p class="alert alert-warning">{{ error }}</p>
              {% endfor %}
            </div>
            {% endif %}
            {% if form.old_password %}
            <div class="form-group">
              <label for="id_username">{{ form.old_password.label }}</label>
              {{ form.old_password }}
              <div class="alert alert-error-text">{{ form.old_password.errors.as_text }}</div>
            </div>
            {% endif %}
            <div class="form-group">
              <label for="id_password">{{ form.new_password1.label }}</label>
              {{ form.new_password1 }}
              <div class="alert alert-error-text">{{ form.new_password1.errors.as_text }}</div>
            </div>
            <div class="form-group">
              <label for="id_password">{{ form.new_password2.label }}</label>
              {{ form.new_password2 }}
              <div class="alert alert-error-text">{{ form.new_password2.errors.as_text }}</div>
            </div>
            <div class="form-group text-center">
              <button type="submit" class="btn btn-primary btn-lg" id="submit-id-submit">{% trans "Valider" %}</button>
            </div>
          </form>
        </div>
      </div>
    </aside>
  </div>
</section>
{% endblock %}
